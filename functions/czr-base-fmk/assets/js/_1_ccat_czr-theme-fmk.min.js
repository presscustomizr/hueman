!function(e,t,i){"function"==typeof e.Section&&e.control.bind("add",function(t){t.params.ubq_section&&t.params.ubq_section.section&&(t.params.original_priority=t.params.priority,t.params.original_section=t.params.section,e.section.when(t.params.ubq_section.section,function(e){e.expanded.bind(function(e){e?(t.params.ubq_section.priority&&t.priority(t.params.ubq_section.priority),t.section(t.params.ubq_section.section)):(t.priority(t.params.original_priority),t.section(t.params.original_section))})}))}),"function"==typeof e.Panel&&e.section.bind("add",function(t){t.params.ubq_panel&&t.params.ubq_panel.panel&&(t.params.original_priority=t.params.priority,t.params.original_panel=t.params.panel,e.panel.when(t.params.ubq_panel.panel,function(e){e.expanded.bind(function(e){e?(t.params.ubq_panel.priority&&t.priority(t.params.ubq_panel.priority),t.panel(t.params.ubq_panel.panel)):(t.priority(t.params.original_priority),t.panel(t.params.original_panel))})}))});var n=function(){i.has(e,"czr_ModOptVisible")&&e.czr_ModOptVisible(!1)};e.bind("ready",function(){e.czr_activeSectionId.bind(n),e.czr_activePanelId.bind(n)})}(wp.customize,jQuery,_),function(t,e,i){t.bind("ready",function(){if(window.themeServerControlParams&&themeServerControlParams.isPro&&(i.each(["tc_font_customizer_settings","contx_header_bg","content_blog_sec","static_front_page","content_single_sec","tc_fpu","nav","post_lists_sec","galleries_sec","footer_customizer_sec","custom_scripts_sec","contact_info_sec"],function(e){i.delay(function(){t.section.when(e,function(e){e.headContainer.length<=1&&e.headContainer.find(".accordion-section-title").prepend('<span class="pro-title-block">Pro</span>')})},1e3)}),i.each([],function(e){t.panel.when(e,function(e){e.headContainer.length<=1&&e.headContainer.find(".accordion-section-title").prepend('<span class="pro-title-block">Pro</span>')})})),!themeServerControlParams.isPro&&i.isFunction(t.Section)){if(proSectionInstance=t.section("go_pro_sec"),!i.isObject(proSectionInstance))return;proSectionInstance.attachEvents=function(){},proSectionInstance.isContextuallyActive=function(){return this.active()},proSectionInstance._toggleActive=function(){return!0},proSectionInstance.active(!0)}})}(wp.customize,jQuery,_);var CZRMultiplePickerMths=CZRMultiplePickerMths||{};!function(e,i,t){i.extend(CZRMultiplePickerMths,{ready:function(){var t=this,e=this.container.find("select");e.czrSelect2({closeOnSelect:!1,templateSelection:function(e){return e.text.replace(/\u2013|\u2014/g,"")}}),e.on("change",function(e){0===i(this).find("option:selected").length&&t.setting.set([])})}})}(wp.customize,jQuery,_);var CZRCroppedImageMths=CZRCroppedImageMths||{};!function(e,t,i){"function"==typeof wp.media.controller.Cropper&&"function"==typeof e.CroppedImageControl&&(wp.media.controller.CZRCustomizeImageCropper=wp.media.controller.Cropper.extend({doCrop:function(e){var t=e.get("cropDetails"),i=this.get("control");return t.dst_width=i.params.dst_width,t.dst_height=i.params.dst_height,wp.ajax.post("crop-image",{wp_customize:"on",nonce:e.get("nonces").edit,id:e.get("id"),context:i.id,cropDetails:t})}}),t.extend(CZRCroppedImageMths,{initFrame:function(){var e=_wpMediaViewsL10n;this.frame=wp.media({button:{text:e.select,close:!1},states:[new wp.media.controller.Library({title:this.params.button_labels.frame_title,library:wp.media.query({type:"image"}),multiple:!1,date:!1,priority:20,suggestedWidth:this.params.width,suggestedHeight:this.params.height}),new wp.media.controller.CZRCustomizeImageCropper({imgSelectOptions:this.calculateImageSelectOptions,control:this})]}),this.frame.on("select",this.onSelect,this),this.frame.on("cropped",this.onCropped,this),this.frame.on("skippedcrop",this.onSkippedCrop,this)},onSelect:function(){var e=this.frame.state().get("selection").first().toJSON();e.mime&&-1<e.mime.indexOf("image")?i.contains(["image/svg+xml","image/gif"],e.mime)||this.params.width===e.width&&this.params.height===e.height&&!this.params.flex_width&&!this.params.flex_height?(this.setImageFromAttachment(e),this.frame.close()):this.frame.setState("cropper"):this.frame.trigger("content:error")}}))}(wp.customize,jQuery,_);var CZRUploadMths=CZRUploadMths||{};!function(e,i,t){i.extend(CZRUploadMths,{ready:function(){var t=this;this.params.removed=this.params.removed||"",this.success=i.proxy(this.success,this),this.uploader=i.extend({container:this.container,browser:this.container.find(".czr-upload"),success:this.success,plupload:{},params:{}},this.uploader||{}),t.params.extensions&&(t.uploader.plupload.filters=[{title:e.l10n.allowedFiles,extensions:t.params.extensions}]),t.params.context&&(t.uploader.params["post_data[context]"]=this.params.context),e.settings.theme.stylesheet&&(t.uploader.params["post_data[theme]"]=e.settings.theme.stylesheet),this.uploader=new wp.Uploader(this.uploader),this.remover=this.container.find(".remove"),this.remover.on("click keydown",function(e){"keydown"===e.type&&13!==e.which||(t.setting.set(t.params.removed),e.preventDefault())}),this.removerVisibility=i.proxy(this.removerVisibility,this),this.setting.bind(this.removerVisibility),this.removerVisibility(this.setting())},success:function(e){this.setting.set(e.get("id"))},removerVisibility:function(e){this.remover.toggle(e!=this.params.removed)}})}(wp.customize,jQuery,_);var CZRLayoutSelectMths=CZRLayoutSelectMths||{};!function(e,s,r){s.extend(CZRLayoutSelectMths,{ready:function(){this.setupSelect()},setupSelect:function(e){var o=this;function t(e){if(!e.id)return e.text;if(r.has(o.params.layouts,e.element.value)){var t=o.params.layouts[e.element.value],i=t.src,n=t.label;return s('<img src="'+i+'" class="czr-layout-img" title="'+n+'" /><span class="czr-layout-title">'+n+"</span>")}}$_select=this.container.find("select"),$_select.czrSelect2({templateResult:t,templateSelection:t,minimumResultsForSearch:1/0})}})}(wp.customize,jQuery,_),function(e,t,i){e.CZRUploadControl=e.Control.extend(CZRUploadMths),e.CZRLayoutControl=e.Control.extend(CZRLayoutSelectMths),e.CZRMultiplePickerControl=e.Control.extend(CZRMultiplePickerMths),e.CZRColorAlpha=e.Control.extend({ready:e.ColorControl.prototype.ready}),t.extend(e.controlConstructor,{czr_upload:e.CZRUploadControl,czr_multiple_picker:e.CZRMultiplePickerControl,czr_layouts:e.CZRLayoutControl,wp_color_alpha:e.CZRColorAlpha}),"function"==typeof e.CroppedImageControl&&(e.CZRCroppedImageControl=e.CroppedImageControl.extend(CZRCroppedImageMths),t.extend(e.controlConstructor,{czr_cropped_image:e.CZRCroppedImageControl})),"function"==typeof e.CodeEditorControl&&t.extend(e.controlConstructor,{czr_code_editor:e.CodeEditorControl})}(wp.customize,jQuery,_),function(l,p,d){var e=serverControlParams.i18n||{};l.czr_CrtlDependenciesReady=p.Deferred(),l.bind("ready",function(){d.has(l,"czr_ctrlDependencies")||(l.czr_ctrlDependencies=new l.CZR_ctrlDependencies,l.czr_CrtlDependenciesReady.resolve())}),l.CZR_ctrlDependencies=l.Class.extend({dominiDeps:[],initialize:function(){var t=this;if(this.defaultDominusParams={dominus:"",servi:[],visibility:null,actions:null,onSectionExpand:!0},this.dominiDeps=d.extend(this.dominiDeps,this._getControlDeps()),!d.isArray(t.dominiDeps))throw new Error("Visibilities : the dominos dependency array is not an array.");l.czr_activeSectionId.bind(function(e){if(!d.isEmpty(e)&&l.section.has(e))try{t.setServiDependencies(e)}catch(e){l.errorLog("In api.CZR_ctrlDependencies : "+e)}}),l.bind("awaken-section",function(e){try{t.setServiDependencies(e.target,e.source)}catch(e){l.errorLog("On awaken-section, ctrl deps : "+e)}}),this._handleFaviconNote()},setServiDependencies:function(i,n,o){var s=this,r=p.Deferred();if(o=o||!1,d.isUndefined(i)||!l.section.has(i))throw new Error("Control Dependencies : the targetSectionId is missing or not registered : "+i);if(l.section(i).czr_ctrlDependenciesReady=l.section(i).czr_ctrlDependenciesReady||p.Deferred(),!o&&"resolved"==l.section(i).czr_ctrlDependenciesReady.state())return r.resolve().promise();d.each(s.dominiDeps,function(e){if(!d.has(e,"dominus")||!d.isString(e.dominus)||d.isEmpty(e.dominus))throw new Error("Control Dependencies : a dominus control id must be a not empty string.");var t=l.CZR_Helpers.build_setId(e.dominus);l.control.has(t)&&l.control(t).section()==i&&(e=s._prepareDominusParams(e),d.isEmpty(e)||s._processDominusCallbacks(e.dominus,e,o).fail(function(){l.consoleLog("self._processDominusCallbacks fail for section "+i),r.reject()}).done(function(){r.resolve()}))});var e=l.CZR_Helpers.getSectionControlIds(i),t=function(t){var i=[];return d.each(s.dominiDeps,function(e){if(d.has(e,"servi")&&d.isArray(e.servi)&&d.has(e,"dominus")&&!d.isEmpty(e.dominus)){if(d.contains(e.servi,t)&&!d.contains(i,e.dominus)){if(e=s._prepareDominusParams(e),d.isEmpty(e))return;i.push(e.dominus)}}else l.errorLog("Control Dependencies : wrong params in _getServusDomini.")}),d.isArray(i)?i:[]},a=[];return d.each(e,function(e){d.isEmpty(t(e))||(a=d.union(a,t(e)))}),d.each(a,function(e){var t=l.CZR_Helpers.build_setId(e);l.control(t).section()!=i&&n!=l.control(t).section()&&l.trigger("awaken-section",{target:l.control(t).section(),source:i})}),r.always(function(){l.section(i).czr_ctrlDependenciesReady.resolve()}),r.promise()},_deferCallbackForControl:function(e,t,i){var n=p.Deferred();if(d.isEmpty(e)||!d.isString(e))throw new Error("_deferCallbackForControl : the control id is missing.");if(!d.isFunction(t))throw new Error("_deferCallbackForControl : callback must be a funtion.");return i=d.isUndefined(i)||!d.isArray(i)?[]:i,l.control.has(e)?"resolved"==l.control(e).deferred.embedded.state()?p.when(t.apply(null,i)).fail(function(){n.reject()}).done(function(){n.resolve()}):l.control(e).deferred.embedded.then(function(){p.when(t.apply(null,i)).fail(function(){n.reject()}).done(function(){n.resolve()})}):l.control.when(e,function(){l.control(e).deferred.embedded.then(function(){p.when(t.apply(null,i)).fail(function(){n.reject()}).done(function(){n.resolve()})})}),n.promise()},_processDominusCallbacks:function(e,o,t){var s=this,i=l.CZR_Helpers.build_setId(e),r=l(i),a=p.Deferred(),c=!1;return d.each(o.servi,function(i){if(l.control.has(l.CZR_Helpers.build_setId(i))){var n=function(e,t,i,n){var o=arguments;d.each(i,function(e,t){switch(t){case"visibility":s._setVisibility.apply(null,o);break;case"actions":d.isFunction(e)&&e.apply(null,o)}})},t=function(e){e=e||r();var t=l.CZR_Helpers.build_setId(i);s._deferCallbackForControl(t,n,[e,i,o]).always(function(){c=!0}).fail(function(){a.reject()}).done(function(){a.resolve()})};t(),d.has(r,"czr_visibilityServi")||(r.czr_visibilityServi=new l.Value([]));var e=r.czr_visibilityServi();d.contains(e,i)||(r.bind(function(e){t(e)}),r.czr_visibilityServi(d.union(e,[i])))}}),c?a.promise():a.resolve().promise()},_setVisibility:function(e,t,i,n){var o=l.CZR_Helpers.build_setId(t),s=i.visibility(e,t,i.dominus);if(n=n||!1,d.isBoolean(s)&&("unchanged"!=s||n)){var r=function(){l.state.has("silent-update-processing")&&l.state("silent-update-processing")()||(l.control(o,function(e){d.has(e,"active")&&(s=s&&e.active()),d.has(e,"defaultActiveArguments")&&control.defaultActiveArguments,e.onChangeActive(s,e.defaultActiveArguments)}),l.state.has("silent-update-processing")&&l.state("silent-update-processing").unbind(r))};l.state.has("silent-update-processing")&&l.state("silent-update-processing")()?l.state("silent-update-processing").bind(r):r()}},_getControlDeps:function(){return{}},_prepareDominusParams:function(n){var o={};if(!d.isObject(n))return l.errorLog("Visibilities : a dominus param definition must be an object."),o;if(!d.has(n,"visibility")&&!d.has(n,"actions"))return l.errorLog("Visibilities : a dominus definition must include a visibility or an actions callback."),o;if(!d.has(n,"dominus")||!d.isString(n.dominus)||d.isEmpty(n.dominus))return l.errorLog("Visibilities : a dominus control id must be a not empty string."),o;var e=l.CZR_Helpers.build_setId(n.dominus);return l.control.has(e)?!d.has(n,"servi")||d.isUndefined(n.servi)||!d.isArray(n.servi)||d.isEmpty(n.servi)?l.errorLog("Visibilities : servi must be set as an array not empty."):d.each(this.defaultDominusParams,function(e,t){var i=n[t];switch(t){case"visibility":if(!d.isUndefined(i)&&!d.isEmpty(i)&&!d.isFunction(i))throw new Error("Visibilities : a dominus visibility callback must be a function : "+n.dominus);break;case"actions":if(!d.isUndefined(i)&&!d.isEmpty(i)&&!d.isFunction(i))throw new Error("Visibilities : a dominus actions callback must be a function : "+n.dominus);break;case"onSectionExpand":if(!d.isUndefined(i)&&!d.isEmpty(i)&&!d.isBoolean(i))throw new Error("Visibilities : a dominus onSectionExpand param must be a boolean : "+n.dominus)}o[t]=i}):l.errorLog("Visibilities : a dominus control id is not registered : "+e),o},_handleFaviconNote:function(){var t=this,i=l.CZR_Helpers.build_setId(serverControlParams.faviconOptionName);if(!(!l.has("site_icon")||!l.control("site_icon")||l.has(i)&&0==+l(i)()||0<+l("site_icon")())){var n=l.control("site_icon").params.description;_newDes=["<strong>",e.faviconNote||"","</strong><br/><br/>"].join("")+n,t._printFaviconNote(_newDes),l("site_icon").callbacks.add(function(e){0<+e?(l.control("site_icon").container.find(".description").text(n),l.has(i)&&l(i).set("")):t._printFaviconNote(_newDes)})}},_printFaviconNote:function(e){l.control("site_icon").container.find(".description").html(e)}})}(wp.customize,jQuery,_),function(e,t){jQuery(function(n){var o=e.customize||o;n(".accordion-section").not(".control-panel").click(function(){var e,t;e=n(this),0!==(t=e.siblings(".open")).length&&t.offset().top<0&&n(".wp-full-overlay-sidebar-content").animate({scrollTop:-n("#customize-theme-controls").offset().top-t.height()+e.offset().top+n(".wp-full-overlay-sidebar-content").offset().top},700)}),o.czrSetupCheckbox=function(e,t){var i=o.control(e);n("input[type=checkbox]",i.container).each(function(){"tc_font_customizer_settings"!=i.params.section&&(0===n(this).val()||"0"==n(this).val()||"off"==n(this).val()||_.isEmpty(n(this).val())?n(this).prop("checked",!1):n(this).prop("checked",!0),0===n(this).closest('div[class^="icheckbox"]').length&&n(this).iCheck({checkboxClass:"icheckbox_flat-grey",radioClass:"iradio_flat-grey"}).on("ifChanged",function(e){n(this).val(!1===n(this).is(":checked")?0:1),n(e.currentTarget).trigger("change")}))})},o.czrSetupSelect=function(e,t){n("select[data-customize-setting-link]",o.control(e).container).not(".no-selecter-js").each(function(){n(this).selecter({})})},o.czrSetupStepper=function(e,t){var i=o.control(e);n('input[type="number"]',i.container).each(function(){n(this).stepper()})},o.control.each(function(e){if(_.has(e,"id")){"widget_"!=e.id.substring(0,"widget_".length)&&"nav_menu"!=e.id.substring(0,"nav_menu".length)&&o.czrSetupCheckbox(e.id),"nav_menu_locations"!=e.id.substring(0,"nav_menu_locations".length)&&o.czrSetupSelect(e.id);0<e.container.find('input[type="number"]').length&&e.params&&e.params.section&&!_.contains(["publish_settings","tc_font_customizer_settings"],e.params.section)&&o.czrSetupStepper(e.id)}})})}(wp);